<template>
  <div class="min-h-screen py-12 bg-slate-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h1 class="text-4xl font-bold text-white mb-4">Proyek Machine Learning</h1>
        <p class="text-xl text-slate-400 max-w-3xl mx-auto">
          Jelajahi proyek ML umum dengan penjelasan, algoritma, dan contoh hasil.
        </p>
      </div>

      <div class="grid md:grid-cols-1 lg:grid-cols-2 gap-8">
        <div v-for="(project, index) in projects" :key="index">
          <ProjectCard :project="project" />
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { faker } from '@faker-js/faker';
import { use } from 'echarts/core';
import { CanvasRenderer } from 'echarts/renderers';
import { BarChart, LineChart, PieChart, ScatterChart } from 'echarts/charts';
import { GridComponent, TooltipComponent, LegendComponent } from 'echarts/components';
import ProjectCard from '../components/ProjectCard.vue';

use([CanvasRenderer, BarChart, LineChart, PieChart, ScatterChart, GridComponent, TooltipComponent, LegendComponent]);

const projects = [
  {
    category: 'Penambangan Data', field: 'Sains Data', title: 'Prediksi Harga Saham',
    description: 'Menggunakan analisis deret waktu untuk meramalkan harga saham atau mata uang kripto di masa depan berdasarkan data historis.',
    algorithm: 'Regresi / LSTM', formula: 'y = mx + b (Regresi Linier)', dataset: 'Yahoo Finance, Binance API',
    chartType: 'line',
    chartOption: {
      tooltip: { trigger: 'axis' }, legend: { data: ['Aktual', 'Prediksi'], textStyle: { color: '#cbd5e1' } }, 
      grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
      xAxis: { type: 'category', data: Array.from({ length: 12 }, (_, i) => `Hari ${i + 1}`), axisLine: { lineStyle: { color: '#475569' } } }, 
      yAxis: { type: 'value', axisLine: { lineStyle: { color: '#475569' } }, splitLine: { lineStyle: { color: '#334155' } } },
      series: [
        { name: 'Aktual', type: 'line', data: Array.from({ length: 12 }, () => faker.number.float({ min: 100, max: 200, fractionDigits: 2 })), smooth: true, itemStyle: { color: '#60a5fa' } },
        { name: 'Prediksi', type: 'line', data: Array.from({ length: 12 }, () => faker.number.float({ min: 100, max: 200, fractionDigits: 2 })), smooth: true, itemStyle: { color: '#a78bfa' } },
      ],
    },
  },
  {
    category: 'Penambangan Data', field: 'Sains Data', title: 'Segmentasi Pelanggan',
    description: 'Mengelompokkan pelanggan ke dalam segmen-segmen berbeda berdasarkan perilaku pembelian atau demografi untuk pemasaran yang ditargetkan.',
    algorithm: 'K-Means Clustering', formula: 'minimize Σ ||x - μi||²', dataset: 'Data transaksi e-commerce',
    chartType: 'scatter',
    chartOption: {
      tooltip: { trigger: 'item' }, legend: { textStyle: { color: '#cbd5e1' } }, 
      grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
      xAxis: { name: 'Skor Belanja', nameTextStyle: { color: '#94a3b8' }, axisLine: { lineStyle: { color: '#475569' } }, splitLine: { lineStyle: { color: '#334155' } } }, 
      yAxis: { name: 'Pendapatan', nameTextStyle: { color: '#94a3b8' }, axisLine: { lineStyle: { color: '#475569' } }, splitLine: { lineStyle: { color: '#334155' } } },
      series: [
        { name: 'Cluster 1', type: 'scatter', data: Array.from({ length: 20 }, () => [faker.number.float({ min: 10, max: 100 }), faker.number.float({ min: 10, max: 100 })]), itemStyle: { color: '#8b5cf6' } },
        { name: 'Cluster 2', type: 'scatter', data: Array.from({ length: 20 }, () => [faker.number.float({ min: 10, max: 100 }), faker.number.float({ min: 10, max: 100 })]), itemStyle: { color: '#3b82f6' } },
        { name: 'Cluster 3', type: 'scatter', data: Array.from({ length: 20 }, () => [faker.number.float({ min: 10, max: 100 }), faker.number.float({ min: 10, max: 100 })]), itemStyle: { color: '#ec4899' } },
      ],
    },
  },
  {
    category: 'Penambangan Data', field: 'Analisis Data', title: 'Analisis Sentimen',
    description: 'Menganalisis ulasan produk untuk menentukan apakah sentimennya positif, negatif, atau netral menggunakan Natural Language Processing (NLP).',
    algorithm: 'NLP / Naive Bayes', formula: 'P(A|B) = [P(B|A) * P(A)] / P(B)', dataset: 'Ulasan Amazon/Yelp',
    chartType: 'bar',
    chartOption: {
      tooltip: { trigger: 'axis' }, legend: { textStyle: { color: '#cbd5e1' } },
      grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
      xAxis: { type: 'category', data: ['Positif', 'Netral', 'Negatif'], axisLine: { lineStyle: { color: '#475569' } } }, 
      yAxis: { type: 'value', axisLine: { lineStyle: { color: '#475569' } }, splitLine: { lineStyle: { color: '#334155' } } },
      series: [{ name: 'Jumlah Ulasan', type: 'bar', data: [faker.number.int({ min: 500, max: 1000 }), faker.number.int({ min: 200, max: 500 }), faker.number.int({ min: 100, max: 300 })], itemStyle: { color: '#3b82f6' } }],
    },
  },
  {
    category: 'Penambangan Data', field: 'Sains Data', title: 'Deteksi Penipuan',
    description: 'Mengidentifikasi pola mencurigakan dalam transaksi keuangan untuk mendeteksi dan mencegah aktivitas penipuan.',
    algorithm: 'Pohon Keputusan / Random Forest', formula: 'Gini Impurity / Information Gain', dataset: 'Transaksi Kartu Kredit',
    chartType: 'pie',
    chartOption: {
      tooltip: { trigger: 'item' }, legend: { textStyle: { color: '#cbd5e1' } },
      series: [{
        name: 'Transaksi', type: 'pie', radius: '70%',
        data: [
          { value: faker.number.int({ min: 950, max: 1000 }), name: 'Bukan Penipuan', itemStyle: { color: '#22c55e' } },
          { value: faker.number.int({ min: 10, max: 50 }), name: 'Penipuan', itemStyle: { color: '#ef4444' } },
        ],
        label: { color: '#cbd5e1' }
      }],
    },
  },
];
</script>
